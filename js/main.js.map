{"version":3,"sources":["file:///C:/Projects/Blogs/Migration/Solution/Codality/themes/escutcheon/assets/js/main.js"],"sourcesContent":["/* ==========================================================================\n   Escutcheon Theme - Dark/Light Mode Toggle\n   Icons: Feather-style sun/moon SVGs (same as Gokarna theme)\n   Persistence: localStorage\n   Default: OS preference via prefers-color-scheme\n   ========================================================================== */\n\n(function () {\n  'use strict';\n\n  var STORAGE_KEY = 'theme-preference';\n\n  function getPreferredTheme() {\n    var saved = localStorage.getItem(STORAGE_KEY);\n    if (saved === 'dark' || saved === 'light') {\n      return saved;\n    }\n    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n  }\n\n  function applyTheme(theme) {\n    document.documentElement.setAttribute('data-theme', theme);\n\n    // Update toggle button icon visibility\n    var toggle = document.getElementById('theme-toggle');\n    if (toggle) {\n      var sunIcon = toggle.querySelector('.icon-sun');\n      var moonIcon = toggle.querySelector('.icon-moon');\n      if (theme === 'dark') {\n        // In dark mode, show moon icon (click to go light)\n        sunIcon.style.display = 'none';\n        moonIcon.style.display = 'block';\n      } else {\n        // In light mode, show sun icon (click to go dark)\n        sunIcon.style.display = 'block';\n        moonIcon.style.display = 'none';\n      }\n    }\n\n    // Update Mermaid theme if mermaid is loaded\n    if (typeof mermaid !== 'undefined') {\n      mermaid.initialize({\n        startOnLoad: false,\n        theme: theme === 'dark' ? 'dark' : 'default'\n      });\n    }\n  }\n\n  // Apply theme immediately to prevent flash of wrong theme\n  applyTheme(getPreferredTheme());\n\n  document.addEventListener('DOMContentLoaded', function () {\n    // Re-apply to ensure toggle button icons are set (button now exists in DOM)\n    applyTheme(getPreferredTheme());\n\n    var toggle = document.getElementById('theme-toggle');\n    if (toggle) {\n      toggle.addEventListener('click', function () {\n        var current = document.documentElement.getAttribute('data-theme') || 'light';\n        var next = current === 'dark' ? 'light' : 'dark';\n        applyTheme(next);\n        localStorage.setItem(STORAGE_KEY, next);\n      });\n    }\n\n    // Listen for OS theme changes (if user hasn't set a preference)\n    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function (e) {\n      if (!localStorage.getItem(STORAGE_KEY)) {\n        applyTheme(e.matches ? 'dark' : 'light');\n      }\n    });\n  });\n})();\n"],"mappings":";;AAOA,GAAC,WAAY;AACX;AAEA,QAAI,cAAc;AAElB,aAAS,oBAAoB;AAC3B,UAAI,QAAQ,aAAa,QAAQ,WAAW;AAC5C,UAAI,UAAU,UAAU,UAAU,SAAS;AACzC,eAAO;AAAA,MACT;AACA,aAAO,OAAO,WAAW,8BAA8B,EAAE,UAAU,SAAS;AAAA,IAC9E;AAEA,aAAS,WAAW,OAAO;AACzB,eAAS,gBAAgB,aAAa,cAAc,KAAK;AAGzD,UAAI,SAAS,SAAS,eAAe,cAAc;AACnD,UAAI,QAAQ;AACV,YAAI,UAAU,OAAO,cAAc,WAAW;AAC9C,YAAI,WAAW,OAAO,cAAc,YAAY;AAChD,YAAI,UAAU,QAAQ;AAEpB,kBAAQ,MAAM,UAAU;AACxB,mBAAS,MAAM,UAAU;AAAA,QAC3B,OAAO;AAEL,kBAAQ,MAAM,UAAU;AACxB,mBAAS,MAAM,UAAU;AAAA,QAC3B;AAAA,MACF;AAGA,UAAI,OAAO,YAAY,aAAa;AAClC,gBAAQ,WAAW;AAAA,UACjB,aAAa;AAAA,UACb,OAAO,UAAU,SAAS,SAAS;AAAA,QACrC,CAAC;AAAA,MACH;AAAA,IACF;AAGA,eAAW,kBAAkB,CAAC;AAE9B,aAAS,iBAAiB,oBAAoB,WAAY;AAExD,iBAAW,kBAAkB,CAAC;AAE9B,UAAI,SAAS,SAAS,eAAe,cAAc;AACnD,UAAI,QAAQ;AACV,eAAO,iBAAiB,SAAS,WAAY;AAC3C,cAAI,UAAU,SAAS,gBAAgB,aAAa,YAAY,KAAK;AACrE,cAAI,OAAO,YAAY,SAAS,UAAU;AAC1C,qBAAW,IAAI;AACf,uBAAa,QAAQ,aAAa,IAAI;AAAA,QACxC,CAAC;AAAA,MACH;AAGA,aAAO,WAAW,8BAA8B,EAAE,iBAAiB,UAAU,SAAU,GAAG;AACxF,YAAI,CAAC,aAAa,QAAQ,WAAW,GAAG;AACtC,qBAAW,EAAE,UAAU,SAAS,OAAO;AAAA,QACzC;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAAA,EACH,GAAG;","names":[]}